{"ast":null,"code":"import _regeneratorRuntime from \"/home/alex/react_projects/myCompany/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/alex/react_projects/myCompany/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/alex/react_projects/myCompany/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/alex/react_projects/myCompany/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/alex/react_projects/myCompany/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/alex/react_projects/myCompany/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/alex/react_projects/myCompany/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/alex/react_projects/myCompany/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/alex/react_projects/myCompany/src/components/admin/list/User.js\";\nimport React, { Component } from 'react';\nimport { baseurl, handleResponse } from '../../../utils/baseurl';\nimport UserCard from './UserCard';\nimport { connect } from 'react-redux';\nimport './user.css';\nimport { fillDetailsAction } from '../../../actions/employeesActions';\n\nvar User = /*#__PURE__*/function (_Component) {\n  _inherits(User, _Component);\n\n  function User(props) {\n    var _this;\n\n    _classCallCheck(this, User);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(User).call(this, props));\n    _this.state = {\n      isHovered: false\n    };\n    _this.toggleHover = _this.toggleHover.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(User, [{\n    key: \"toggleHover\",\n    value: function toggleHover() {\n      this.setState(function (prevState) {\n        return {\n          isHovered: !prevState.isHovered\n        };\n      });\n    } ////////\n\n  }, {\n    key: \"getUserData\",\n    value: function () {\n      var _getUserData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(employeeID) {\n        var _this2 = this;\n\n        var user, FETCH_PROFILE, parameters;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                user = JSON.parse(localStorage.getItem('user'));\n                FETCH_PROFILE = baseurl(\"employee/details?employeeID=\".concat(employeeID));\n                parameters = {\n                  method: 'GET',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': user.token\n                  }\n                };\n                _context.next = 5;\n                return fetch(FETCH_PROFILE, parameters).then(function (response) {\n                  return handleResponse(response);\n                }).then(function (response) {\n                  return response.json();\n                }).then(function (response) {\n                  _this2.props.dispatch(fillDetailsAction(response));\n\n                  _this2.props.parentCallback(React.createElement(UserCard, {\n                    obj: response,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 47\n                    },\n                    __self: this\n                  }));\n                }).then(function (json) {\n                  return json;\n                }).catch(function (error) {\n                  return error;\n                });\n\n              case 5:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getUserData(_x) {\n        return _getUserData.apply(this, arguments);\n      }\n\n      return getUserData;\n    }() ////////  \n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var btnClass = this.state.isHovered ? 'blu' : 'norma';\n      return React.createElement(\"span\", {\n        className: btnClass,\n        onMouseEnter: this.toggleHover,\n        onMouseLeave: this.toggleHover,\n        onClick: function onClick(e) {\n          return _this3.getUserData(_this3.props.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, this.props.username);\n    }\n  }]);\n\n  return User;\n}(Component);\n\n;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return state;\n};\n\nexport default connect(mapStateToProps)(User);","map":{"version":3,"sources":["/home/alex/react_projects/myCompany/src/components/admin/list/User.js"],"names":["React","Component","baseurl","handleResponse","UserCard","connect","fillDetailsAction","User","props","state","isHovered","toggleHover","bind","setState","prevState","employeeID","user","JSON","parse","localStorage","getItem","FETCH_PROFILE","parameters","method","headers","token","fetch","then","response","json","dispatch","parentCallback","catch","error","btnClass","e","getUserData","id","username","mapStateToProps"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAASC,OAAT,EAAkBC,cAAlB,QAAwC,wBAAxC;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,YAAP;AAEA,SACEC,iBADF,QAEO,mCAFP;;IAIMC,I;;;AACJ,gBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8EAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,SAAS,EAAG;AADD,KAAb;AAGA,UAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBC,IAAjB,+BAAnB;AALiB;AAMlB;;;;kCAEY;AACX,WAAKC,QAAL,CAAc,UAAAC,SAAS;AAAA,eAAK;AAACJ,UAAAA,SAAS,EAAE,CAACI,SAAS,CAACJ;AAAvB,SAAL;AAAA,OAAvB;AACD,K,CAEH;;;;;mGAEkBK,U;;;;;;;;AACZC,gBAAAA,I,GAAOC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,C;AAELC,gBAAAA,a,GAAgBnB,OAAO,uCAAgCa,UAAhC,E;AAEvBO,gBAAAA,U,GAAa;AACjBC,kBAAAA,MAAM,EAAE,KADS;AAEjBC,kBAAAA,OAAO,EAAE;AACP,oCAAgB,kBADT;AAEP,qCAAiBR,IAAI,CAACS;AAFf;AAFQ,iB;;uBAQNC,KAAK,CAACL,aAAD,EAAgBC,UAAhB,CAAL,CACVK,IADU,CACL,UAAAC,QAAQ,EAAI;AAAC,yBAAOzB,cAAc,CAACyB,QAAD,CAArB;AAAgC,iBADxC,EAEVD,IAFU,CAEL,UAAAC,QAAQ,EAAI;AAChB,yBAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,iBAJU,EAKVF,IALU,CAMX,UAAAC,QAAQ,EAAI;AACR,kBAAA,MAAI,CAACpB,KAAL,CAAWsB,QAAX,CAAoBxB,iBAAiB,CAACsB,QAAD,CAArC;;AACP,kBAAA,MAAI,CAACpB,KAAL,CAAWuB,cAAX,CAA0B,oBAAC,QAAD;AAAU,oBAAA,GAAG,EAAEH,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA1B;AACI,iBATU,EAUVD,IAVU,CAUL,UAAAE,IAAI,EAAI;AACZ,yBAAOA,IAAP;AACD,iBAZU,EAYRG,KAZQ,CAYF,UAAAC,KAAK,EAAI;AAChB,yBAAOA,KAAP;AACD,iBAdU,C;;;;;;;;;;;;;;;;;;QAiBf;;;;6BACU;AAAA;;AACN,UAAMC,QAAQ,GAAG,KAAKzB,KAAL,CAAWC,SAAX,GAAuB,KAAvB,GAA+B,OAAhD;AAEA,aAAQ;AAAM,QAAA,SAAS,EAAEwB,QAAjB;AAA2B,QAAA,YAAY,EAAE,KAAKvB,WAA9C;AAA2D,QAAA,YAAY,EAAE,KAAKA,WAA9E;AAA2F,QAAA,OAAO,EAAE,iBAACwB,CAAD;AAAA,iBAAO,MAAI,CAACC,WAAL,CAAiB,MAAI,CAAC5B,KAAL,CAAW6B,EAA5B,CAAP;AAAA,SAApG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA8I,KAAK7B,KAAL,CAAW8B,QAAzJ,CAAR;AACD;;;;EAlDgBrC,S;;AAmDlB;;AAGD,IAAMsC,eAAe,GAAG,SAAlBA,eAAkB,CAAC9B,KAAD;AAAA,SAAYA,KAAZ;AAAA,CAAxB;;AAEA,eAAeJ,OAAO,CACpBkC,eADoB,CAAP,CAEbhC,IAFa,CAAf","sourcesContent":["import React, {Component} from 'react';\nimport { baseurl, handleResponse } from '../../../utils/baseurl';\nimport UserCard from './UserCard'\nimport { connect } from 'react-redux'\nimport './user.css'\n\nimport {\n  fillDetailsAction\n} from '../../../actions/employeesActions';\n\nclass User extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isHovered : false\n    };\n    this.toggleHover = this.toggleHover.bind(this);\n  }\n  \n  toggleHover(){\n    this.setState(prevState => ({isHovered: !prevState.isHovered}));\n  }\n\n////////\n\nasync getUserData(employeeID) {\n  let user = JSON.parse(localStorage.getItem('user'));\n  \n  const FETCH_PROFILE = baseurl(`employee/details?employeeID=${employeeID}`);\n\n  const parameters = {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': user.token\n    }\n  }\n\n  return await fetch(FETCH_PROFILE, parameters)\n    .then(response => {return handleResponse(response)})    \n    .then(response => {\n      return response.json();\n    })\n    .then(\n    response => { \n        this.props.dispatch(fillDetailsAction(response));\n\tthis.props.parentCallback(<UserCard obj={response} />);\n    })\n    .then(json => {\n      return json;\n    }).catch(error => {\n      return error;\n    });\n}\n\n////////  \n  render(){\n    const btnClass = this.state.isHovered ? 'blu' : 'norma';\n\n    return (<span className={btnClass} onMouseEnter={this.toggleHover} onMouseLeave={this.toggleHover} onClick={(e) => this.getUserData(this.props.id)} >{this.props.username}</span>);\n  }\n};\n\n\nconst mapStateToProps = (state) => (state);\n\nexport default connect(\n  mapStateToProps\n)(User)\n"]},"metadata":{},"sourceType":"module"}