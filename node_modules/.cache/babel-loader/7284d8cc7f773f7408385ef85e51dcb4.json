{"ast":null,"code":"import _classCallCheck from \"/home/alex/react_projects/myCompany/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/alex/react_projects/myCompany/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/alex/react_projects/myCompany/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/alex/react_projects/myCompany/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/alex/react_projects/myCompany/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/alex/react_projects/myCompany/src/components/admin/profile/update/adminUpdateComponent.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { adminProfileAction, adminProfileUpdateAction } from '../../../../actions/adminActions';\nimport AdminUpdateView from './adminUpdateView';\nimport HeaderComponent from '../../../commons/headerComponent'; //import { getCookie } from '../../../../utils/cookies';\n\nvar user = null;\n\nvar AdminUpdateComponent = /*#__PURE__*/function (_Component) {\n  _inherits(AdminUpdateComponent, _Component);\n\n  function AdminUpdateComponent(props) {\n    var _this;\n\n    _classCallCheck(this, AdminUpdateComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AdminUpdateComponent).call(this, props));\n\n    _this.handleUpdateAdmin = function (event) {\n      event.preventDefault();\n      var data = {\n        username: event.target.username.value,\n        email: event.target.email.value,\n        role: event.target.role.value,\n        password: event.target.password.value,\n        access: user.role,\n        id: user.id\n      };\n\n      _this.props.dispatch(adminProfileUpdateAction(data));\n    };\n\n    user = JSON.parse(localStorage.getItem('user'));\n\n    _this.props.dispatch(adminProfileAction({\n      id: _this.props.match.params.id,\n      access: user.role\n    }));\n\n    return _this;\n  }\n\n  _createClass(AdminUpdateComponent, [{\n    key: \"render\",\n    value: function render() {\n      var success, message;\n\n      if (this.props.updateProfile.hasOwnProperty('action')) {\n        success = this.props.updateProfile.action.response.success;\n        message = this.props.updateProfile.action.response.message;\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(HeaderComponent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), React.createElement(AdminUpdateView, {\n        profile: this.props.profile.action.response,\n        handleUpdateAdmin: this.handleUpdateAdmin,\n        success: success,\n        message: message,\n        role: user.role,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return AdminUpdateComponent;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return state;\n};\n\nexport default connect(mapStateToProps)(AdminUpdateComponent);","map":{"version":3,"sources":["/home/alex/react_projects/myCompany/src/components/admin/profile/update/adminUpdateComponent.js"],"names":["React","Component","connect","adminProfileAction","adminProfileUpdateAction","AdminUpdateView","HeaderComponent","user","AdminUpdateComponent","props","handleUpdateAdmin","event","preventDefault","data","username","target","value","email","role","password","access","id","dispatch","JSON","parse","localStorage","getItem","match","params","success","message","updateProfile","hasOwnProperty","action","response","profile","mapStateToProps","state"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,kBAAT,EAA6BC,wBAA7B,QAA6D,kCAA7D;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,eAAP,MAA4B,kCAA5B,C,CAEA;;AAEA,IAAIC,IAAI,GAAG,IAAX;;IAEMC,oB;;;AACJ,gCAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8FAAMA,KAAN;;AADiB,UASnBC,iBATmB,GASC,UAACC,KAAD,EAAW;AAC7BA,MAAAA,KAAK,CAACC,cAAN;AACA,UAAMC,IAAI,GAAG;AACXC,QAAAA,QAAQ,EAAEH,KAAK,CAACI,MAAN,CAAaD,QAAb,CAAsBE,KADrB;AAEXC,QAAAA,KAAK,EAAEN,KAAK,CAACI,MAAN,CAAaE,KAAb,CAAmBD,KAFf;AAGXE,QAAAA,IAAI,EAAEP,KAAK,CAACI,MAAN,CAAaG,IAAb,CAAkBF,KAHb;AAIXG,QAAAA,QAAQ,EAAER,KAAK,CAACI,MAAN,CAAaI,QAAb,CAAsBH,KAJrB;AAKXI,QAAAA,MAAM,EAAEb,IAAI,CAACW,IALF;AAMXG,QAAAA,EAAE,EAAEd,IAAI,CAACc;AANE,OAAb;;AASA,YAAKZ,KAAL,CAAWa,QAAX,CAAoBlB,wBAAwB,CAACS,IAAD,CAA5C;AACD,KArBkB;;AAEjBN,IAAAA,IAAI,GAAGgB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAP;;AACA,UAAKjB,KAAL,CAAWa,QAAX,CAAoBnB,kBAAkB,CAAC;AACrCkB,MAAAA,EAAE,EAAE,MAAKZ,KAAL,CAAWkB,KAAX,CAAiBC,MAAjB,CAAwBP,EADS;AAErCD,MAAAA,MAAM,EAAEb,IAAI,CAACW;AAFwB,KAAD,CAAtC;;AAHiB;AAOlB;;;;6BAgBQ;AACP,UAAIW,OAAJ,EAAaC,OAAb;;AACA,UAAI,KAAKrB,KAAL,CAAWsB,aAAX,CAAyBC,cAAzB,CAAwC,QAAxC,CAAJ,EAAuD;AACrDH,QAAAA,OAAO,GAAG,KAAKpB,KAAL,CAAWsB,aAAX,CAAyBE,MAAzB,CAAgCC,QAAhC,CAAyCL,OAAnD;AACAC,QAAAA,OAAO,GAAG,KAAKrB,KAAL,CAAWsB,aAAX,CAAyBE,MAAzB,CAAgCC,QAAhC,CAAyCJ,OAAnD;AACD;;AAED,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,eAAD;AACE,QAAA,OAAO,EAAE,KAAKrB,KAAL,CAAW0B,OAAX,CAAmBF,MAAnB,CAA0BC,QADrC;AAEE,QAAA,iBAAiB,EAAE,KAAKxB,iBAF1B;AAGE,QAAA,OAAO,EAAEmB,OAHX;AAIE,QAAA,OAAO,EAAEC,OAJX;AAKL,QAAA,IAAI,EAAEvB,IAAI,CAACW,IALN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF;AAYD;;;;EA3CgCjB,S;;AA8CnC,IAAMmC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD;AAAA,SAAYA,KAAZ;AAAA,CAAxB;;AAEA,eAAenC,OAAO,CAACkC,eAAD,CAAP,CAAyB5B,oBAAzB,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { adminProfileAction, adminProfileUpdateAction } from '../../../../actions/adminActions';\nimport AdminUpdateView from './adminUpdateView';\nimport HeaderComponent from '../../../commons/headerComponent';\n\n//import { getCookie } from '../../../../utils/cookies';\n\nvar user = null;\n\nclass AdminUpdateComponent extends Component {\n  constructor(props) {\n    super(props);\n    user = JSON.parse(localStorage.getItem('user'));\n    this.props.dispatch(adminProfileAction({\n      id: this.props.match.params.id,\n      access: user.role\n    }));\n  }\n\n  handleUpdateAdmin = (event) => {\n    event.preventDefault();\n    const data = {\n      username: event.target.username.value,\n      email: event.target.email.value,\n      role: event.target.role.value,\n      password: event.target.password.value,\n      access: user.role,\n      id: user.id\n    };\n\n    this.props.dispatch(adminProfileUpdateAction(data));\n  }\n\n  render() {\n    let success, message;\n    if (this.props.updateProfile.hasOwnProperty('action')) {\n      success = this.props.updateProfile.action.response.success;\n      message = this.props.updateProfile.action.response.message;\n    }\n    \n    return (\n      <div>\n        <HeaderComponent />\n        <AdminUpdateView\n          profile={this.props.profile.action.response}\n          handleUpdateAdmin={this.handleUpdateAdmin}\n          success={success}\n          message={message} \n\t  role={user.role}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => (state);\n\nexport default connect(mapStateToProps)(AdminUpdateComponent);\n"]},"metadata":{},"sourceType":"module"}